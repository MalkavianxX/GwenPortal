{% extends 'login/login.html' %} {% load static %}{% load humanize %}

{% block content%}
<link rel="stylesheet" type="text/css" href="{% static 'blog/css/blog.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'curso/css/curso.css' %}" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    {% csrf_token %}

<section style=" margin-top: 10vh;margin-bottom: 10vh;">
    <div class="container">
        <div class="row justify-content-lg-center mt-lg-0 mt-5 bg-light ">
            <div class="col-lg-6 titulo-shadow col-12 fnt-roboto align-self-center fw-bold">
                <h3>Todos los cursos</h3>
            </div>
            <div class="col-lg-6 col-12">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="floatingInput" list="todos_nombres_cursos"
                        onchange="buscarElemento(this.value)" placeholder="hola">
                    <label for="floatingInput">Curso...</label>
                </div>
            </div>
        </div>

        <div class="row row-cols-1 row-cols-md-2 contenedor-sombras mb-3 row-cols-lg-4 g-4">
            {% for curso in cursos %}
            <div class="col mb-3 ">
                <div class="card h-100 hover-grow " id="{{curso.nombre}}">
                    <a href="{% url 'ver_curso' curso.id %}">

                        <img src="{{ curso.imagen.url}}" class="card-img-top" style="height: 250px;" alt="...">
                    </a>
                    <div class="card-body">
                        <a href="{% url 'ver_curso' curso.id %}" style="text-decoration: none; color: black;">

                            <div class="fnt-roboto fw-bold w-100 card-title d-flex justify-content-between ">
                                <p>{{curso.nombre}}</p>
                                <p class="text-success">${{curso.precio|intcomma}}</p>
                            </div>
                            <p class="card-text limit-caracter">{{curso.descripcion}}</p>
                        </a>

                    </div>
                    <div class="row mb-2">
                        <div class="d-grid gap-2 col-12 col-lg-8 mx-auto">
                            <button class="btn  btn-lg letra-blanca fw-bold"
                                style="background-color: rgb(149, 47, 245); color: white;" id="{{curso.id_collection}}" onclick="agregarAlCarrito(this.id)" type="button">Al
                                carrito</button>
                        </div>
                    </div>
                </div>

            </div>
            {%endfor%}
        </div>
    </div>
</section>

<section class="mb-5" id="talleres">
    <div class="container">
        <div class="row justify-content-lg-end  mt-lg-0 mt-5 bg-light ">
            <div class="col-4 fnt-roboto  fw-bold titulo-shadow">
                <h2 class="text-end">Todos los talleres</h2>
            </div>

        </div>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4  contenedor-sombras">
            {% for curso in talleres %}
            <div class="col me-3">
                <a href="{% url 'ver_taller' curso.id %}">

                    <div class="card h-100 hover-grow " id="{{curso.nombre}}">
                        <a href="{% url 'ver_curso' curso.id %}">

                            <img src="{{ curso.imagen.url}}" class="card-img-top" style="height: 250px;" alt="...">
                        </a>
                        <div class="card-body">
                            <a href="{% url 'ver_curso' curso.id %}" style="text-decoration: none; color: black;">

                                <div class="fnt-roboto fw-bold w-100 card-title d-flex justify-content-between ">
                                    <p>{{curso.nombre}}</p>
                                    <p class="text-success">${{curso.precio|intcomma}}</p>
                                </div>
                                <p class="card-text limit-caracter">{{curso.descripcion}}</p>
                            </a>
                        </div>
                        <div class="row mb-2">
                            <div class="d-grid gap-2 col-12 col-lg-8 mx-auto">
                                <button class="btn  btn-lg letra-blanca fw-bold"
                                    style="background-color: rgb(149, 47, 245); color: white;" id="{{curso.id_collection}}" onclick="agregarAlCarrito(this.id)"  type="button">Al
                                    carrito</button>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {%endfor%}
        </div>
    </div>
</section>

<section style="margin-bottom: 100vh; ">
    <div class="container">
        <div class="row justify-content-lg-center  mt-lg-0 mt-5 bg-light ">
            <div class="col-4 fnt-roboto  fw-bold titulo-shadow">
                <h2 class="text-center">Contenido gratuito</h2>
            </div>

        </div>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4  contenedor-sombras">
            {% for curso in talleres %}
            <div class="col me-3">
                <div class="card h-100 hover-grow " id="curso.nombre">
                    <a href="{% url 'ver_curso' curso.id %}"  >

                    <img src="{{ curso.imagen.url}}" class="card-img-top" style="height: 250px;" alt="...">
                    </a>
                    <div class="card-body">
                        <a href="{% url 'ver_curso' curso.id %}"  style="text-decoration: none; color: black;">

                        <div class="fnt-roboto fw-bold w-100 card-title d-flex justify-content-between ">
                            <p>{{curso.nombre}}</p>
                            <p class="text-success">${{curso.precio|intcomma}}</p>
                        </div>
                        <p class="card-text limit-caracter">{{curso.descripcion}}</p>
                        </a>
                    </div>
                    <div class="row mb-2">
                        <div class="d-grid gap-2 col-12 col-lg-8 mx-auto">
                            <button class="btn  btn-lg letra-blanca fw-bold btn-success" id="{{curso.id_collection}}" onclick="agregarAlCarrito(this.id)" type="button">Al
                                carrito</button>
                        </div>
                    </div>
                </div>
            </div>
            {%endfor%}
        </div>
    </div>
</section>
<datalist id="todos_nombres_cursos">
    {% for curso in cursos %}
    <option value="{{curso.nombre}}"></option>
    {%endfor%}
    {% for curso in talleres %}
    <option value="{{curso.nombre}}"></option>
    {%endfor%}
</datalist>
<script>
    function buscarElemento(valor) {
        var elemento = document.getElementById(valor);

        if (elemento) {
            elemento.scrollIntoView();
            elemento.classList.add("animated");
            setTimeout(function () {
                elemento.classList.remove("animated");
            }, 1200);
        }
    }
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/63bc1a63be.js" crossorigin="anonymous"></script>
{%endblock%}